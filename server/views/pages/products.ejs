<!DOCTYPE html>
<html lang="en" class="no-js">
<!-- Class no-js for testing jQuery connection -->

<head>
  <% include ../partials/head %>
    <link rel="stylesheet" type="text/css" href="../../stylesheets/util.css">
    <link rel="stylesheet" type="text/css" href="../../stylesheets/main.css">
    
    <!-- Products custom style -->
    <style>
      main {
        /* Show background image */
        background-color: transparent;
        background: transparent;
      }

      .card {
        background-color: lightgray;


      }

      .card-deck {
        margin-left: 0px;
        margin-top: 10px;
        margin-right: 5px;
      }

      .card-body {
        width: 263px;
        

      }

      .card-img-top {
        width: 100%;
        height: 200px;
      }

      #sort,
      #sort2 {
        width: 150px;

      }

      .d-block {
        width: 1920px;
        height: 300px;

      }

      .carouselExampleIndicators {
        margin-left: 100px;
      }
    </style>

</head>

<body>


  <% include ../partials/header %>



    <div class="coloring">

      <br>
      <br>
      <br>
      <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
          <div class="carousel-inner" role="listbox">
            <div class="carousel-item active">
              <img class="d-block img-fluid" src="https://blog.redbubble.com/wp-content/uploads/2017/03/book_banner_lanka69_5.jpg"
                alt="First slide">
            </div>

          </div>
        </div>

      <section class="bgwhite p-t-55 p-b-65">
        <div class="container">
          <div class="row">
            <div class="container">
            
            </div>


            <div class="col-sm-6 col-md-4 col-lg-3 p-b-50">

              <div class="leftbar p-r-20 p-r-0-sm">

                <!--  -->



                <!--  -->
                <br>
                <br>

                <div class="m-text15 p-b-17">
                  <h3>Filters</h3>
                  <br>
                </div>








                <div class="search-product pos-relative bo4 of-hidden">
                  <input class="form-control mr-sm-2" type="search" placeholder="Type a bookname..." aria-label="Search" id="search">
                  <br>
                  <br>
       


                  <form action="/filterprice" method="post">

                    Min Price:
                    <br><br>
                    <input type="text" name="min" class="min"><br>
                    <br> Max Price:
                    <br><br>
                    <input type="text" name="max" class="max">


                    <br>
                    <br>
                    <button type="submit" class="btn btn-secondary">Fitler</button>
                  </form>

                  <button class="flex-c-m size5 ab-r-m color2 color0-hov trans-0-4">
                    <i class="fs-12 fa fa-search" aria-hidden="true"></i>
                  </button>
                </div>
              </div>
            </div>

            <div class="col-sm-6 col-md-8 col-lg-9 p-b-50">
              <!--  -->

              

              <br>
              <br>

              <div class="flex-w">
                  <div class="rs2-select2 bo4 of-hidden w-size12 m-t-5 m-b-5 m-r-10">
                      <form action="/products" method="POST" onchange="checkAndSubmit()" id="formID">
                        <select class="sort" name="sort" id="sort">
                          <option value="All">Price</option>
                          <option value="All">Default</option>
                          <option value="low">Low to High</option>
                          <option value="high">High to Low</option>
                        </select>
    
                      </form>
                  </div>
    
                  <div class="rs2-select2 bo4 of-hidden w-size12 m-t-5 m-b-5 m-r-10">
                      <form action="/products" method="post" onchange="checkAndSubmit2()" id="formID2">
                        <select class="sort" name="sort" id="sort2">
                          <option value="All">Genre</option>
                          <option value="All">All</option>
                          <% for (i =0; i < genre.length; i++) {%>
                            <% if ( genre[i].genre != 'All') { %>
                            <option value="<%= genre[i].genre %>">
                              <%= genre[i].genre %>
                            </option>
    
                            <% } %>
                            <% } %>
                        </select>
    
    
                      </form>

                  </div>
                </div>
<br><br>
              <!-- Product -->
              <div class="row">
                <% for (i =0; i < images.length; i++) {%>
                  <% if ( images[i].available == "available") { %>

                    <div class="card-deck">
                      <div class="card card-shadow text-center">
                        <div class="card-body">
                          <a href="/viewbook/<%= images[i].id%>">
                            <img class="card-img-top" src="images/<%= images[i].imageName %>" alt="">
                          </a>
                          <h4 class="card-title">
                            <%= images[i].title %>
                          </h4>
                          <h6 class="card-text">Price : $
                            <%= images[i].price %>
                          </h6>
                          <div class="dropdown-divider"></div>
                          <p class="card-text">
                            <small class="text-muted">Genre :
                              <%= images[i].genre %>
                            </small>
                          </p>
                          <a href="/viewbook/<%= images[i].id%>">
                            <button type="button" class="btn btn-outline-primary">Info</button>
                          </a>
                          <a href="/viewprofile/<%= images[i].user_id%>">
                            <button type="button" class="btn btn-outline-primary">
                              <%= images[i].seller %>
                            </button>
                          </a>

                        </div>
                      </div>
                    </div>

                    <% } %>
                      <% } %>

                        <script>
                          $('#search').keyup(function () {
                            $('.card').removeClass('d-none');
                            var filter = $(this).val(); // get the value of the input, which we filter on
                            $('.card-deck').find('.card .card-body h4:not(:contains("' + filter + '"))').parent().parent()
                              .addClass('d-none');
                          })



                          function checkAndSubmit2() {
                            if (document.getElementById('sort2').selectedIndex > 0) {
                              document.getElementById('formID2').submit();

                            }
                          }


                          function checkAndSubmit() {
                            if (document.getElementById('sort').selectedIndex > 0) {
                              document.getElementById('formID').submit();

                            }
                          }
                        </script>





              </div>

              <!-- Pagination -->
            </div>
          </div>
        </div>
      </section>









    </div>
    <!-- /.row -->
    </main>

    <% include ../partials/cart %>


      <!-- Footer -->
      <footer class="py-5 bg-dark">
        <div class="container">
          <p class="m-0 text-center text-white">Copyright &copy; Your Website 2017</p>
        </div>
        <!-- /.container -->
      </footer>

      <!-- Custom (after load) scripts -->
      <% include ../partials/foot %>
        <script>
        </script>



        <style>
          body {
            font-family: Arial;
          }

          /* Style the tab */

          .tab {
            overflow: hidden;
            border: 1px solid #ccc;
            background-color: #f1f1f1;
          }

          /* Style the buttons inside the tab */

          .tab button {
            background-color: inherit;
            float: left;
            border: none;
            outline: none;
            cursor: pointer;
            padding: 14px 16px;
            transition: 0.3s;
            font-size: 17px;
          }

          /* Change background color of buttons on hover */

          .tab button:hover {
            background-color: #ddd;
          }

          /* Create an active/current tablink class */

          .tab button.active {
            background-color: #ccc;
          }

          /* Style the tab content */

          .tabcontent {
            display: none;
            padding: 6px 12px;
            border: 1px solid #ccc;
            border-top: none;
          }
        </style>




</body>

</html>
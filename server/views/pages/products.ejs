<!DOCTYPE html>
<html lang="en" class="no-js">
<!-- Class no-js for testing jQuery connection --> 

  <head>
    <% include ../partials/head %>
    <!-- Products custom style -->
    <style>
        main {
          /* Show background image */
          background-color: transparent; 
          background: transparent;
        }  

        .card{
          background-color: lightgray;

        }

        .card-img-top{
          width:100%;
          height:200px;
        }
        
    </style>

  </head>

  <body>
    <!-- <h1 class="site-heading text-center text-white d-none d-lg-block">

      <span class="site-heading-lower">Business Casual</span>
    </h1> -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <% include ../partials/header %>

 <!-- Page Content -->
 <main> <!-- Testing out using main -->
 <div class="coloring">
 <div class="container">

    <div class="row">

      <div class="col-lg-3">

        <h1 class="my-4">Market Place</h1>
        <input class="form-control mr-sm-2" type="search" placeholder="Type a bookname..." aria-label="Search" id="search"><br>
     
        <h4 class="my-4">Price</h4>
        <form action="/products" method="POST" onchange="checkAndSubmit()" id="formID">
          <select class="sort" name="sort" id="sort">
              <option value="All">Default</option>
            <option value="low" >Low to High</option>
            <option value="high">High to Low</option>
          </select>

        </form>
        <br>




     
     
        <h4 class="my-4">Genre</h4>
          <form action="/products" method="post" onchange="checkAndSubmit2()" id="formID2">
            <select class="sort" name="sort" id="sort2">
              <option value="All" selected>View All</option>
              <option value="Action">Action</option>
              <option value="Horror">Horror</option>
              <option value="Science Fiction">Science Fiction</option>
              <option value="Non-Fiction">Non-Fiction</option>
              <option value="Adventure">Adventure</option>
              <option value="Comedy">Comedy</option>
            </select>


          </form>


          <script>
              function checkAndSubmit2()
            {
              if (document.getElementById('sort2').selectedIndex > 0)
              {
                  document.getElementById('formID2').submit();
            
              }
            }


            function checkAndSubmit()
            {
              if (document.getElementById('sort').selectedIndex > 0)
              {
                  document.getElementById('formID').submit();
            
              }
            }
            </script>        
      </div>
      <!-- /.col-lg-3 -->

      <div class="col-lg-9">

        <div id="carouselExampleIndicators" class="carousel slide my-4" data-ride="carousel">
          <ol class="carousel-indicators">
            <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
            <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>

          </ol>
          <div class="carousel-inner" role="listbox">
            <div class="carousel-item active">
              <img class="d-block img-fluid" src="https://static1.squarespace.com/static/5416fadde4b07676831441f5/5420a03ce4b09cb1a8ef58f8/58bb387e86e6c0c5a70297ba/1488664736862/Purling+Road+Season+3+Banner.jpg" alt="First slide">
            </div>
            <div class="carousel-item">
              <img class="d-block img-fluid" src="https://3.bp.blogspot.com/-Hz4KZy1tC9w/WNgiqGIhd-I/AAAAAAAAKmE/mcccvggsqrIfVfcn_g9d_E7_iHl7VbEdQCPcB/s1600/More%2BThan%2Ba%2BFeeling%2BFB%2BBanner.jpg" alt="Second slide">
            </div>
 
          </div>
          <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
          </a>
          <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
          </a>
        </div>

        <br>
        

          <div class="row">
  
              <% for (i =0; i < images.length; i++) {%>
                <% if ( images[i].avaliable == "Avaliable") { %>
                  <div class="col-lg-4 col-md-6 mb-4">
                    <div class="card-deck">
                      <div class="card card-shadow text-center">
                        <div class="card-body">
                            <a href="/viewbook/<%= images[i].id%>"><img class="card-img-top" src="images/<%= images[i].imageName %>" alt=""></a>
                          <h4 class="card-title"><%= images[i].title %></h4>
                          <h6 class="card-text">Price : $<%= images[i].price1 %></h6>
                          <div class="dropdown-divider"></div>
                          <p class="card-text"><small class="text-muted">Genre : <%= images[i].genre1 %></small></p>
                          <a href="/viewbook/<%= images[i].id%>"><button type="button" class="btn btn-outline-primary">Info</button></a>
                          <a href="/viewprofile/<%= images[i].user_id%>"><button type="button" class="btn btn-outline-primary"><%= images[i].seller %></button></a>
                        
                        </div>
                      </div>
                      </div>
                    </div>

                    <% } %>
          <% } %>

        </div>
      </div>
        
   
 


        

          </div>
        <!-- /.row -->
      </main>
  
  <% include ../partials/cart %>    

  
    <!-- Footer -->
    <footer class="py-5 bg-dark">
        <div class="container">
          <p class="m-0 text-center text-white">Copyright &copy; Your Website 2017</p>
        </div>
        <!-- /.container -->
    </footer>

  <!-- Custom (after load) scripts -->
  <% include ../partials/foot %> 
  <script>
$('#search').keyup(function (){
    $('.card').removeClass('d-none');
    var filter = $(this).val(); // get the value of the input, which we filter on
    $('.card-deck').find('.card .card-body h4:not(:contains("'+filter+'"))').parent().parent().addClass('d-none');
  })
    $('#searchprice').keyup(function (){
    $('.card').removeClass('d-none');
    var filter = $(this).val(); // get the value of the input, which we filter on
    $('.card-deck').find('.card .card-body h6:not(:contains("'+filter+'"))').parent().parent().addClass('d-none');
  })
  

  
  </script>



<style>
  body {font-family: Arial;}
  
  /* Style the tab */
  .tab {
      overflow: hidden;
      border: 1px solid #ccc;
      background-color: #f1f1f1;
  }
  
  /* Style the buttons inside the tab */
  .tab button {
      background-color: inherit;
      float: left;
      border: none;
      outline: none;
      cursor: pointer;
      padding: 14px 16px;
      transition: 0.3s;
      font-size: 17px;
  }
  
  /* Change background color of buttons on hover */
  .tab button:hover {
      background-color: #ddd;
  }
  
  /* Create an active/current tablink class */
  .tab button.active {
      background-color: #ccc;
  }
  
  /* Style the tab content */
  .tabcontent {
      display: none;
      padding: 6px 12px;
      border: 1px solid #ccc;
      border-top: none;
  }
  </style>

</body>
</html>
